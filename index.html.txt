<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Estilos de Apego - Descubre C√≥mo Amas</title>
    <meta name="description" content="Descubre c√≥mo tu estilo de apego influye en tus relaciones rom√°nticas, familiares y de amistad. Test psicol√≥gico gratuito de 2 minutos.">
    <meta property="og:title" content="Quiz: ¬øC√≥mo Afecta tu Estilo de Apego a tus Relaciones?">
    <meta property="og:description" content="Descubre los patrones √∫nicos en tus relaciones y aprende a crear conexiones m√°s profundas. Solo 2 minutos.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=1200&h=630&fit=crop">
    <meta property="og:type" content="website">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
            margin: 0;
            padding: 0;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        .fade-out {
            animation: fadeOut 0.3s ease-out;
            opacity: 0;
            transform: scale(0.95);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.95); }
        }

        .icon-heart::before { content: "‚ô•"; }
        .icon-zap::before { content: "‚ö°"; }
        .icon-shield::before { content: "üõ°"; }
        .icon-users::before { content: "üë•"; }
        .icon-chevron::before { content: "‚Üí"; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1e1b4b 0%, #581c87 50%, #be185d 100%);
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div class="gradient-bg flex items-center justify-center p-4">
        <div class="max-w-2xl w-full">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="text-center space-y-8 fade-in">
                <div class="relative">
                    <div class="absolute inset-0 blur-3xl bg-gradient-to-r from-pink-500 to-violet-600 opacity-30 rounded-full"></div>
                    <h1 class="relative text-4xl md:text-6xl font-bold text-white mb-4 tracking-tight">
                        Descubre C√≥mo Tu
                        <span class="block text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-violet-400">
                            Estilo de Apego Afecta Tus Relaciones
                        </span>
                    </h1>
                </div>
                
                <p class="text-lg md:text-xl text-gray-200 max-w-md mx-auto leading-relaxed">
                    Comprende los patrones √∫nicos en tus relaciones rom√°nticas, familiares y de amistad, y descubre c√≥mo crear conexiones m√°s profundas
                </p>
                
                <button id="start-btn" class="group relative inline-flex items-center gap-3 bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:bg-white/20 hover:scale-105 hover:shadow-2xl shadow-lg">
                    <span>Comienza Tu Viaje</span>
                    <span class="icon-chevron text-xl transition-transform group-hover:translate-x-1"></span>
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 to-violet-600 opacity-0 group-hover:opacity-20 transition-opacity blur-xl"></div>
                </button>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="space-y-8 hidden">
                <div class="flex justify-between items-center mb-8">
                    <div id="progress-bar" class="flex gap-2">
                        <!-- Progress bars will be inserted here -->
                    </div>
                    <span id="progress-text" class="text-white/60 text-sm font-medium"></span>
                </div>

                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-2xl">
                    <h2 id="question-text" class="text-xl md:text-2xl font-bold text-white mb-8 leading-relaxed"></h2>
                    <div id="options-container" class="space-y-3">
                        <!-- Options will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="space-y-8 hidden">
                <div class="text-center">
                    <div id="result-icon" class="inline-flex p-6 rounded-full text-white mb-6 shadow-2xl text-6xl">
                        <!-- Icon will be inserted here -->
                    </div>
                    
                    <h2 id="result-title" class="text-3xl md:text-5xl font-bold text-white mb-4"></h2>
                    
                    <p id="result-description" class="text-lg md:text-xl text-gray-200 max-w-lg mx-auto leading-relaxed mb-8"></p>
                </div>

                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-2xl space-y-6">
                    <div>
                        <h3 class="text-xl md:text-2xl font-semibold text-white mb-4">C√≥mo Te Relacionas</h3>
                        <div id="traits-container" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <!-- Traits will be inserted here -->
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl md:text-2xl font-semibold text-white mb-4">Mejora Tus Relaciones</h3>
                        <p id="growth-text" class="text-gray-200 leading-relaxed"></p>
                    </div>

                    <div>
                        <h3 class="text-xl md:text-2xl font-semibold text-white mb-4">Compatibilidad en Relaciones</h3>
                        <div id="compatibility-info" class="space-y-3">
                            <!-- Compatibility info will be inserted here -->
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button id="restart-btn" class="group relative inline-flex items-center gap-3 bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:bg-white/20 hover:scale-105 hover:shadow-2xl shadow-lg">
                        <span>Tomar Quiz Nuevamente</span>
                        <span class="icon-chevron text-xl transition-transform group-hover:translate-x-1"></span>
                        <div class="absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 to-violet-600 opacity-0 group-hover:opacity-20 transition-opacity blur-xl"></div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz data and logic
        const questions = [
            {
                text: "En una relaci√≥n rom√°ntica, cuando mi pareja necesita espacio, yo...",
                options: [
                    { text: "Lo respeto y conf√≠o en que volver√°n cuando est√©n listos", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 1 } },
                    { text: "Me preocupo de que algo est√© mal entre nosotros", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 2 } },
                    { text: "Aprovecho para enfocarme en mis propios intereses", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Me siento rechazado pero no s√© c√≥mo expresarlo", score: { secure: 0, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "Cuando estoy en desacuerdo con un amigo cercano, mi tendencia es...",
                options: [
                    { text: "Hablar directamente sobre el problema con calma", score: { secure: 3, anxious: 1, avoidant: 0, fearful: 0 } },
                    { text: "Buscar resolverlo r√°pidamente porque me genera ansiedad", score: { secure: 2, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Darme tiempo para procesar antes de hablar del tema", score: { secure: 0, anxious: 0, avoidant: 3, fearful: 2 } },
                    { text: "Evitar el conflicto pero sentirme mal internamente", score: { secure: 0, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "En mis relaciones familiares, cuando necesito apoyo emocional...",
                options: [
                    { text: "Puedo pedirlo sin sentirme inc√≥modo", score: { secure: 3, anxious: 1, avoidant: 0, fearful: 0 } },
                    { text: "A veces siento que necesito mucha validaci√≥n", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Prefiero resolver mis problemas yo solo", score: { secure: 0, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Quiero apoyo pero me cuesta expresar lo que necesito", score: { secure: 1, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "En una cita o encuentro rom√°ntico, me siento m√°s c√≥modo cuando...",
                options: [
                    { text: "Hay un equilibrio natural entre conversaci√≥n profunda y momentos ligeros", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 0 } },
                    { text: "Podemos hablar de nuestros sentimientos y planes futuros", score: { secure: 1, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Mantenemos las cosas interesantes pero sin presi√≥n emocional", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Siento conexi√≥n pero sin comprometerme demasiado r√°pido", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            },
            {
                text: "Cuando un amigo me cancela planes a √∫ltimo momento, t√≠picamente...",
                options: [
                    { text: "Lo entiendo y reagendamos sin problema", score: { secure: 3, anxious: 0, avoidant: 0, fearful: 0 } },
                    { text: "Me siento herido y busco entender por qu√© lo hizo", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "No me molesta mucho, tengo otras cosas que hacer", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Me siento confundido sobre lo que realmente significa nuestra amistad", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            },
            {
                text: "En una relaci√≥n seria, mi forma de demostrar amor es...",
                options: [
                    { text: "A trav√©s de palabras de afirmaci√≥n y gestos consistentes", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 0 } },
                    { text: "Siendo muy atento y buscando pasar mucho tiempo juntos", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Dando espacio pero estando presente cuando me necesitan", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "De manera intensa pero a veces inconsistente", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            }
        ];

        const attachmentStyles = {
            secure: {
                title: "Apego Seguro en Relaciones",
                icon: "‚ô•",
                color: "from-rose-400 to-pink-600",
                description: "Tus relaciones se caracterizan por la estabilidad emocional y comunicaci√≥n abierta. Te sientes c√≥modo con la intimidad sin perder tu individualidad, y generas confianza f√°cilmente en otros.",
                traits: ["Comunicas necesidades claramente", "Mantienes l√≠mites saludables", "Resuelves conflictos constructivamente", "Apoyas la independencia mutua"],
                growth: "Tus relaciones tienden a ser duraderas y satisfactorias. Puedes ayudar a parejas con otros estilos de apego a sentirse m√°s seguras. Contin√∫a modelando comunicaci√≥n saludable.",
                compatibility: {
                    type: "success",
                    text: "<strong>Alta compatibilidad:</strong> Con todos los estilos. Tu estabilidad ayuda a crear seguridad en cualquier relaci√≥n.<br><strong>Ideal para:</strong> Ser mentor emocional y crear relaciones duraderas."
                }
            },
            anxious: {
                title: "Apego Ansioso en Relaciones",
                icon: "‚ö°",
                color: "from-amber-400 to-orange-600",
                description: "En tus relaciones buscas conexi√≥n profunda y a veces necesitas mucha validaci√≥n. Eres altamente emp√°tico pero puedes preocuparte excesivamente por la estabilidad de la relaci√≥n.",
                traits: ["Altamente sintonizado con emociones", "Busca intimidad emocional profunda", "Muy comprometido con la relaci√≥n", "Expresivo y cari√±oso"],
                growth: "Trabajar en la autoestima independiente te ayudar√° a disfrutar m√°s las relaciones. Practica comunicar directamente tus necesidades sin temor al rechazo. Tu pareja ideal aprecia tu intensidad emocional.",
                compatibility: {
                    type: "info",
                    text: "<strong>Mejor con:</strong> Apego seguro (te brinda estabilidad) o evitativo (complemento interesante).<br><strong>Desaf√≠o con:</strong> Otro apego ansioso (puede intensificar inseguridades mutuas)."
                }
            },
            avoidant: {
                title: "Apego Evitativo en Relaciones",
                icon: "üõ°",
                color: "from-emerald-400 to-teal-600",
                description: "Valoras tu autonom√≠a en las relaciones y prefieres mantener cierta independencia emocional. Aunque puedes amar profundamente, expresar vulnerabilidad te resulta desafiante.",
                traits: ["Mantiene independencia personal", "Compa√±ero confiable y estable", "Respeta el espacio de otros", "Relaciones sin drama excesivo"],
                growth: "Practicar la vulnerabilidad gradual enriquecer√° tus relaciones. Tu pareja necesita saber que la valoras. Peque√±os gestos de cercan√≠a emocional pueden fortalecer mucho el v√≠nculo.",
                compatibility: {
                    type: "success",
                    text: "<strong>Mejor con:</strong> Apego seguro (respeta tu espacio) o ansioso (si hay comprensi√≥n mutua).<br><strong>Desaf√≠o con:</strong> Otro apego evitativo (puede resultar en distancia emocional)."
                }
            },
            fearful: {
                title: "Apego Desorganizado en Relaciones",
                icon: "üë•",
                color: "from-purple-400 to-indigo-600",
                description: "Experimentas una mezcla compleja de desear cercan√≠a profunda mientras temes la vulnerabilidad. Tus relaciones pueden ser intensas y llenas de matices emocionales √∫nicos.",
                traits: ["Comprende din√°micas complejas", "Capacidad de intimidad profunda", "Muy perceptivo emocionalmente", "Lealtad intensa cuando conf√≠a"],
                growth: "La comunicaci√≥n abierta sobre tus necesidades contradictorias ayuda a tu pareja a entenderte. Busca relaciones donde te sientas seguro siendo aut√©ntico. Tu profundidad emocional es un regalo cuando se expresa claramente.",
                compatibility: {
                    type: "warning",
                    text: "<strong>Mejor con:</strong> Apego seguro (te brinda consistencia y paciencia).<br><strong>Clave:</strong> Comunicaci√≥n abierta sobre tus necesidades contradictorias."
                }
            }
        };

        // State
        let currentQuestion = 0;
        let answers = [];
        let isAnimating = false;

        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Functions
        function showScreen(screenName) {
            if (isAnimating) return;
            isAnimating = true;

            // Hide all screens
            [welcomeScreen, quizScreen, resultScreen].forEach(screen => {
                screen.classList.add('fade-out');
                screen.classList.remove('fade-in');
            });

            setTimeout(() => {
                [welcomeScreen, quizScreen, resultScreen].forEach(screen => {
                    screen.classList.add('hidden');
                });

                // Show target screen
                const targetScreen = document.getElementById(screenName + '-screen');
                targetScreen.classList.remove('hidden');
                targetScreen.classList.remove('fade-out');
                targetScreen.classList.add('fade-in');
                
                isAnimating = false;
            }, 300);
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            
            progressBar.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                const bar = document.createElement('div');
                bar.className = `h-2 rounded-full transition-all duration-500 ${
                    i < currentQuestion
                        ? 'w-12 bg-gradient-to-r from-pink-400 to-violet-400'
                        : i === currentQuestion
                        ? 'w-16 bg-white/50'
                        : 'w-8 bg-white/20'
                }`;
                progressBar.appendChild(bar);
            }
            
            progressText.textContent = `${currentQuestion + 1} de ${questions.length}`;
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('question-text').textContent = question.text;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 md:p-6 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 text-white transition-all duration-300 hover:bg-white/10 hover:border-white/30 hover:scale-[1.02] hover:shadow-lg';
                button.innerHTML = `<span class="text-base md:text-lg leading-relaxed">${option.text}</span>`;
                button.onclick = () => handleAnswer(option);
                optionsContainer.appendChild(button);
            });

            updateProgressBar();
        }

        function handleAnswer(option) {
            if (isAnimating) return;
            
            answers.push(option);
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                showResult();
            }
        }

        function calculateResult() {
            const scores = { secure: 0, anxious: 0, avoidant: 0, fearful: 0 };
            
            answers.forEach(answer => {
                Object.keys(scores).forEach(style => {
                    scores[style] += answer.score[style];
                });
            });

            const maxScore = Math.max(...Object.values(scores));
            return Object.keys(scores).find(key => scores[key] === maxScore);
        }

        function showResult() {
            const result = calculateResult();
            const style = attachmentStyles[result];
            
            // Update result display
            const resultIcon = document.getElementById('result-icon');
            resultIcon.textContent = style.icon;
            resultIcon.className = `inline-flex p-6 rounded-full bg-gradient-to-br ${style.color} text-white mb-6 shadow-2xl text-6xl`;
            
            document.getElementById('result-title').textContent = style.title;
            document.getElementById('result-description').textContent = style.description;
            document.getElementById('growth-text').textContent = style.growth;
            
            // Display traits
            const traitsContainer = document.getElementById('traits-container');
            traitsContainer.innerHTML = '';
            style.traits.forEach(trait => {
                const traitDiv = document.createElement('div');
                traitDiv.className = 'bg-white/10 backdrop-blur-sm rounded-xl p-4 text-white/90 text-center text-sm md:text-base';
                traitDiv.textContent = trait;
                traitsContainer.appendChild(traitDiv);
            });
            
            // Display compatibility
            const compatibilityInfo = document.getElementById('compatibility-info');
            const compatibilityDiv = document.createElement('div');
            const colorClass = style.compatibility.type === 'success' ? 'bg-green-500/20' : 
                             style.compatibility.type === 'info' ? 'bg-blue-500/20' : 'bg-purple-500/20';
            const textClass = style.compatibility.type === 'success' ? 'text-green-100' : 
                             style.compatibility.type === 'info' ? 'text-blue-100' : 'text-purple-100';
            
            compatibilityDiv.className = `${colorClass} backdrop-blur-sm rounded-xl p-4`;
            compatibilityDiv.innerHTML = `<p class="${textClass}">${style.compatibility.text}</p>`;
            compatibilityInfo.appendChild(compatibilityDiv);
            
            showScreen('result');
        }

        function restart() {
            currentQuestion = 0;
            answers = [];
            showScreen('welcome');
        }

        function startQuiz() {
            currentQuestion = 0;
            answers = [];
            displayQuestion();
            showScreen('quiz');
        }

        // Event listeners
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', restart);

        // Initialize
        console.log('Quiz de Estilos de Apego cargado correctamente');
    </script>
</body>
</html>